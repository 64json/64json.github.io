"use strict";function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_nonIterableRest()}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}function _arrayWithHoles(e){if(Array.isArray(e))return e}$(document).ready(function(){function C(e){window.location.hash=e.data("last-hash"),x.removeClass("focus"),e.removeClass("minimize"),e.addClass("focus"),e.css("z-index",s++)}function e(){var e=window.location.hash;if(e.endsWith("-")){var t=e.substring(0,e.length-1);return $(t).data("last-hash",null),void(window.location.hash=t)}var r=$(e);if(r.hasClass("window","open")){var n=r.data("last-hash");if(n&&n!==e)return void(window.location.hash=n)}var a=e;if(/^#?$/.test(a))x.removeClass("focus");else{$("a[href^='".concat(a,"-']")).removeClass("active"),$("[id^='".concat(a.substring(1),"-']")).removeClass("open");for(var o=[a];;){var i=a.lastIndexOf("-");if(!~i)break;a=a.substring(0,i),o.unshift(a)}var s=$(a);s.data("last-hash",e),C(s);for(var c=null,l=0;l<o.length;l++){var d=o[l],u=$(d),f=$("a[href='".concat(d,"']"));if(f.length&&(c=f.first()),0<l){var h=o[l-1];$("a[href^='".concat(h,"-']")).removeClass("active"),$("[id^='".concat(h.substring(1),"-']")).removeClass("open")}f.addClass("active"),u.addClass("open")}switch(s.attr("id")){case"browser":var v=s.find(".tab-container");if(r.length){r[0].click()}else{var p=$('<a class="tab open active"></a>');p.attr("id",e.substring(1)),p.attr("href",e);var m=c.data("url");p.data({url:m}),p.mousedown(function(e){return e.stopPropagation()});var b=$('<div class="icon"></div>'),y=$('<div class="name"></div>'),w=$('<a class="close" href="#"></a>');b.css("background-image","url(".concat(c.data("image"),")")),y.text(c.data("name")),w.attr("href","#"),w.click(function(e){e.preventDefault();var t=p.hasClass("open"),r=p.prev()[0]||p.next()[0];p.remove(),t&&(r?r.click():_slicedToArray(s.find(".button-close"),1)[0].click())}),p.append(b),p.append(y),p.append(w),p.click(function(){A.attr("src")!==m&&A.attr("src",m),j.find(".url").text(m)}),p.click(),v.append(p)}break;case"instagram":var k=s.find(".title-container");k.empty(),k.append('<div class="icon icon-instagram">'),k.append('<div class="name">Instagram</div>');break;default:var g=s.find(".title-container");g.empty(),g.append(c.children().clone())}}}var x=$(".window"),i=$("#directory"),t=$("#browser"),_=$("#terminal"),r=x.find(".toolbar"),n=r.find(".button-container"),A=t.find(".iframe"),j=t.find(".addressbar"),a=$("html"),c=$(".label-clock"),o=$("a"),s=2,l=null,d=null;window.setTimeout(e,0),$(window).on("hashchange",e),n.click(function(){d&&_slicedToArray($(this).find(".button-close"),1)[0].click()}),n.find(".button-close").click(function(e){var t=$(this).parents(".window"),r=t.attr("id");switch($("a[href='#".concat(r,"']")).removeClass("active"),t.removeClass("open"),t.data("last-hash",null),t.attr("id")){case"terminal":X();break;case"browser":t.find(".tab-container").empty(),A.attr("src",null),j.find(".url").text(null)}}),n.find(".button-minimize").click(function(e){d||$(this).parents(".window").addClass("minimize")}),n.find(".button-maximize").click(function(e){d||(e.preventDefault(),$(this).parents(".window").toggleClass("maximize"))}),j.find(".button-refresh").click(function(e){e.preventDefault(),A.attr("src",A.attr("src"))}),j.find(".button-new").click(function(e){e.preventDefault(),window.open(A.attr("src"))}),$(".desktop").mousedown(function(){window.location.hash="#",x.removeClass("focus")}),x.mousedown(function(e){e.stopPropagation(),C($(this))});var u={users:{jason:{desktop:{}}}},f=[];$("*").each(function(){var e=this.id;e&&f.push(e)});for(var h=0,v=f;h<v.length;h++){var p=v[h],m=u.users.jason.desktop,b=p.split("-"),y=!0,w=!1,k=void 0;try{for(var g,T=b[Symbol.iterator]();!(y=(g=T.next()).done);y=!0){var I=g.value;m[I]||(m[I]={}),m=m[I]}}catch(e){w=!0,k=e}finally{try{y||null==T.return||T.return()}finally{if(w)throw k}}}var z=null;$.get("/js/script.js",function(e){return z=e},"text");var S=null;$.get("/whoami.txt",function(e){return S=e},"text");var W=null,O=[],P=0,D=null,H=null,J=null,X=function(){D=!(W=["users","jason","desktop"]),L(),q(!0)};window.setTimeout(X,0);function Y(e){var t=e?e.split("/"):[],r=_toConsumableArray(W);""===t[0]?(r=[],t.shift()):"~"===t[0]&&(r=["users","jason"],t.shift());var n=!0,a=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var c=i.value;switch(c){case"":case".":break;case"..":r.pop();break;default:r.push(c)}}}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}function E(e){var t=u,r=!0,n=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){t=t[o.value]}}catch(e){n=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}return t}function M(e){var r=1<arguments.length&&void 0!==arguments[1]&&arguments[1];Array.isArray(e)||(e=[e]);var n=_.find(".line-container");e.forEach(function(e){var t=$('<div class="line">');r?t.html(e&&e.replace(/([.,?!"';]*\w*[.,?!"';]*\s*)/g,"<span>$1</span>").replace(/\{(.+)\}/g,'<div class="underline">$1</div>&nbsp;&nbsp;').replace(/\*(.+)\*/g,'<div class="highlight">$1</div>')):t.html(e),n.append(t)})}function N(e){var t=_.find(".cursor");if(B(t),void 0!==e)for(var r=0,n=Array.from(e);r<n.length;r++){var a=n[r];"\n"===a?(q(!1,!1),t=_.find(".cursor")):t.before('<div class="letter">'.concat(a,"</div>"))}}function R(e,t){return 0<Object.keys(e[t]).length}function V(e){var t=e.keyCode;switch(t){case 8:case 9:case 13:case 27:case 37:case 38:case 39:case 40:e.preventDefault()}if(!H||27===t){var r=_.find(".cursor"),n=r.prev(".letter"),a=r.next(".letter"),o=r.parents(".line");switch(t){case 8:n.length&&(n.remove(),B(r));break;case 9:if(!a.length){var i=o.children(".letter").text().split(/\s+/).pop(),s=i.lastIndexOf("/"),c=i.substring(0,s+1),l=i.substring(s+1),d=Y(c),u=E(d);if(u){var f=Object.keys(u).filter(function(e){return e.startsWith(l)});if(1===f.length){var h=f[0].substring(l.length);N(h)}else if(1<f.length){if(D){r.detach(),o.before(o.clone());var v=!0,p=!1,m=void 0;try{for(var b,y=f[Symbol.iterator]();!(v=(b=y.next()).done);v=!0){var w=b.value;o.before('<div class="line"><div class="'.concat(R(u,w)?"dir":"file",'">').concat(w,"</div></div>"))}}catch(e){p=!0,m=e}finally{try{v||null==y.return||y.return()}finally{if(p)throw m}}r.appendTo(o)}D=!0}}}break;case 13:var k=o.children(".letter").text();O.push(k),P=O.length,function(e){var t=_toArray(e.split(/\s+/)),n=t[0],r=t.slice(1),a=r.filter(function(e){return!e.startsWith("-")}),o=r.find(function(e){return e.startsWith("-")}),i=o?o.substring(1).split(""):[];switch(n){case"":break;case"help":M([" *help*            show all the possible commands"," *whoami* [-j]     display information about Jason"," *cd* {dir}        change the working directory"," *ls* {dir}        list directory contents"," *pwd*             return the working directory"," *rm* [-fr] {dir}  remove directory entries"," *open* {files}    open the files"," *clear*           clear the terminal screen"," *exit*            close the terminal window"," *hackertyper*     ?????"],!0);break;case"whoami":i.includes("j")?M(["*Jinseo Jason Park*",""].concat(_toConsumableArray(S.split("\n"))),!0):M(["*Jinseo Jason Park*","I am a developer, hackathoner, and backpacker.",'Type "*whoami -j*" to show my journey so far.'],!0);break;case"cd":var s=a.shift(),c=Y(s),l=E(c);if(void 0===l){M("-bash: ".concat(n,": ").concat(s,": No such file or directory"));break}if(0===Object.keys(l).length){M("-bash: ".concat(n,": ").concat(s,": Not a directory"));break}W=_toConsumableArray(c);break;case"ls":var d=a.shift(),u=Y(d),f=E(u);if(void 0===f){M("-bash: ".concat(n,": ").concat(d,": No such file or directory"));break}if(0===Object.keys(f).length){M('<div class="file">'.concat(u.pop(),"</div>"));break}M(Object.keys(f).map(function(e){return'<div class="'.concat(R(f,e)?"dir":"file",'">').concat(e,"</div>")}));break;case"pwd":M("/"+W.join("/"));break;case"rm":var h=a.shift(),v=Y(h),p=E(v);if(void 0===p){M("-bash: ".concat(n,": ").concat(h,": No such file or directory"));break}if(Object.keys(p).length&&!i.includes("r")){M("-bash: ".concat(n,": ").concat(h,": Is a directory"));break}var m=function(e){return"#"+e.slice(3).join("-")}(v);if("#"===m){if(!i.includes("f")){M("-bash: ".concat(n,": ").concat(h,": Permission denied (try again with -f)"));break}$(".desktop").remove()}else $("a[href='".concat(m,"']")).remove(),$("[id='".concat(m.substring(1),"']")).remove(),$("a[href^='".concat(m,"-']")).remove(),$("[id^='".concat(m.substring(1),"-']")).remove();var b=v.pop();delete E(v)[b];break;case"open":var y=0,w=!0,k=!1,g=void 0;try{for(var C,x=function(){var e=C.value,t=Y(e);if(void 0===E(t))return M("The file /".concat(t.join("/")," does not exist.")),"continue";"users"===t[0]&&"jason"===t[1]&&"desktop"===t[2]&&t.splice(0,3);var r="#"+t.join("-");if("#"==r||!$(r).length)return M("-bash: ".concat(n,": ").concat(e,": Permission denied")),"continue";window.setTimeout(function(){window.location.hash=r},y+=200)},A=a[Symbol.iterator]();!(w=(C=A.next()).done);w=!0)x()}catch(e){k=!0,g=e}finally{try{w||null==A.return||A.return()}finally{if(k)throw g}}break;case"clear":return q(!0);case"exit":return _slicedToArray(_.find(".button-close"),1)[0].click();case"hackertyper":if(z)return q(H=!0,!1);M("Error occurred while loading source code.");break;default:M("-bash: ".concat(n,": command not found"))}q(),_slicedToArray(_.find(".cursor"),1)[0].scrollIntoView()}(k);break;case 27:L(),q();break;case 37:n.length&&(n.addClass("cursor"),r.removeClass("cursor"));break;case 38:if(0<P){var g=O[--P];r.detach(),o.find(".letter").remove(),o.append(r),N(g)}break;case 39:a.length&&(a.addClass("cursor"),r.removeClass("cursor"));break;case 40:if(P<O.length){var C=O[++P];r.detach(),o.find(".letter").remove(),o.append(r),N(C)}}9!==t&&(D=!1),_slicedToArray(r,1)[0].scrollIntoView()}}var L=function(){H=!1,J=0},q=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=_.find(".line-container");e&&r.empty();var n=$('<div class="line">');if(t){var a=_toConsumableArray(W);"users"===a[0]&&"jason"===a[1]&&a.splice(0,2,"~");var o=a.join("/")||"/";n.append("jason@world:".concat(o,"$ "))}return _.find(".cursor").removeClass("cursor"),n.append('<div class="letter cursor">'),r.append(n),n},B=function(e){e.prev().after(e)};$(document).keydown(function(e){i.hasClass("focus")?function(e){var t=i.find(".panel.open .directory.active").last();switch(e.keyCode){case 38:var r=_slicedToArray(t.prev(":not(.directory-parent)"),1)[0];r&&r.click();break;case 40:var n=_slicedToArray(t.next(),1)[0];n&&n.click();break;case 37:var a=_slicedToArray(t.parents(".panel-container").prev().find(".panel.open .directory.active"),1)[0];a&&a.click();break;case 39:var o=_slicedToArray(t.parents(".panel-container").next().find(".panel.open .directory:not(.directory-parent)").first(),1)[0];o&&o.click()}}(e):_.hasClass("focus")&&V(e)}),$(document).keypress(function(e){_.hasClass("focus")&&function(e){var t=e.charCode||e.keyCode;if(3===t)L(),q();else if(32<=t)if(H){var r=1+(8*Math.random()|0),n=z.substr(J,r);n||(L(),q()),J+=r,N(n)}else{var a=String.fromCharCode(t);N(a)}_slicedToArray(_.find(".cursor"),1)[0].scrollIntoView()}(e)}),x.each(function(e){var t=20+20*e,r=20+20*e;$(this).css({top:t,left:r})});var F=null,G={},K={};r.mousedown(function(e){d||1===e.which&&((F=$(this).parents(".window")).hasClass("maximize")||(F.addClass("moving"),G=F.position(),K.x=e.clientX,K.y=e.clientY,$(document).mousemove(function(e){var t=e.clientX-K.x,r=e.clientY-K.y;G.left+=t,G.top+=r,K.x=e.clientX,K.y=e.clientY,F.css(G)}),$(document).mouseup(function(){F.removeClass("moving"),$(document).off("mousemove"),$(document).off("mouseup")})))}),o.mousedown(function(e){e.stopPropagation()}),[[".border-left","left","width","x","clientX"],[".border-top","top","height","y","clientY"],[".border-right",null,"width","x","clientX"],[".border-bottom",null,"height","y","clientY"]].map(function(e){var t=_slicedToArray(e,5),r=t[0],n=t[1],a=t[2],o=t[3],i=t[4],s=null,c={},l={};x.find(r).mousedown(function(e){if(!d&&1===e.which&&!(s=$(this).parents(".window")).hasClass("maximize")){if(s.addClass("resizing"),n){var t=s.position();c[n]=t[n]}c[a]=s[a](),l[o]=e[i],$(document).mousemove(function(e){var t=e[i]-l[o];n?(c[n]+=t,c[a]-=t):c[a]+=t,l[o]=e[i],c.width<280||c.height<60||s.css(c)}),$(document).mouseup(function(){s.removeClass("resizing"),$(document).off("mousemove"),$(document).off("mouseup")})}})});function Q(){function e(e){return e<10?"0".concat(e):e}var t=new Date,r=t.getHours(),n=t.getMinutes(),a=e(r%12||12),o=e(n),i=["AM","PM"][r/12|0],s="".concat(a,":").concat(o," ").concat(i);c.find(".name").text(s)}window.setInterval(Q,1e3),Q(),o.each(function(){$(this).attr("href").startsWith("#")||($(this).attr("target","_blank"),$(this).attr("rel","noopener"),$(this).addClass("link-external"))});function U(){var e=document.body.clientWidth;d=!(l=512<e),a.toggleClass("desktop",l),a.toggleClass("mobile",d)}U(),window.onresize=U});