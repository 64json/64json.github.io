"use strict";function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_nonIterableRest()}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var r=0,t=new Array(e.length);r<e.length;r++)t[r]=e[r];return t}}function _slicedToArray(e,r){return _arrayWithHoles(e)||_iterableToArrayLimit(e,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,r){var t=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(t.push(o.value),!r||t.length!==r);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return t}function _arrayWithHoles(e){if(Array.isArray(e))return e}$(document).ready(function(){function C(e){window.location.hash=e.data("last-hash"),A.removeClass("focus"),e.removeClass("minimize"),e.addClass("focus"),e.css("z-index",s++)}function e(){var e=window.location.hash;if(e.endsWith("-")){var r=e.substring(0,e.length-1);return $(r).data("last-hash",null),void(window.location.hash=r)}var t=$(e);if(t.hasClass("window","open")){var n=t.data("last-hash");if(n&&n!==e)return void(window.location.hash=n)}var a=e;if(/^#?$/.test(a))A.removeClass("focus");else{$("a[href^='".concat(a,"-']")).removeClass("active"),$("[id^='".concat(a.substring(1),"-']")).removeClass("open");for(var i=[a];;){var o=a.lastIndexOf("-");if(!~o)break;a=a.substring(0,o),i.unshift(a)}var s=$(a);s.data("last-hash",e),C(s);for(var c=null,l=0;l<i.length;l++){var d=i[l],u=$(d),f=$("a[href='".concat(d,"']"));if(f.length&&(c=f.first()),0<l){var h=i[l-1];$("a[href^='".concat(h,"-']")).removeClass("active"),$("[id^='".concat(h.substring(1),"-']")).removeClass("open")}f.addClass("active"),u.addClass("open")}switch(s.attr("id")){case"browser":var v=s.find(".tab-container");if(t.length){t[0].click()}else{var p=$('<a class="tab open active"></a>');p.attr("id",e.substring(1)),p.attr("href",e);var m=c.data("url");p.data({url:m}),p.mousedown(function(e){return e.stopPropagation()});var b=$('<div class="icon"></div>'),y=$('<div class="name"></div>'),w=$('<a class="close" href="#"></a>');b.css("background-image","url(".concat(c.data("image"),")")),y.text(c.data("name")),w.attr("href","#"),w.click(function(e){e.preventDefault();var r=p.hasClass("open"),t=p.prev()[0]||p.next()[0];p.remove(),r&&(t?t.click():_slicedToArray(s.find(".button-close"),1)[0].click())}),p.append(b),p.append(y),p.append(w),p.click(function(){x.attr("src")!==m&&x.attr("src",m),j.find(".url").text(m)}),p.click(),v.append(p)}break;case"instagram":var g=s.find(".title-container");g.empty(),g.append('<div class="icon icon-instagram">'),g.append('<div class="name">Instagram</div>');break;default:var k=s.find(".title-container");k.empty(),k.append(c.children().clone())}}}var A=$(".window"),o=$("#directory"),r=$("#browser"),_=$("#terminal"),t=A.find(".toolbar"),n=t.find(".button-container"),x=r.find(".iframe"),j=r.find(".addressbar"),a=$("html"),c=$(".label-clock"),i=$("a"),s=2,l=null,d=null;window.setTimeout(e,0),$(window).on("hashchange",e),n.click(function(){d&&_slicedToArray($(this).find(".button-close"),1)[0].click()}),n.find(".button-close").click(function(e){var r=$(this).parents(".window"),t=r.attr("id");switch($("a[href='#".concat(t,"']")).removeClass("active"),r.removeClass("open"),r.data("last-hash",null),r.attr("id")){case"terminal":E();break;case"browser":r.find(".tab-container").empty(),x.attr("src",null),j.find(".url").text(null)}}),n.find(".button-minimize").click(function(e){d||$(this).parents(".window").addClass("minimize")}),n.find(".button-maximize").click(function(e){d||(e.preventDefault(),$(this).parents(".window").toggleClass("maximize"))}),j.find(".button-refresh").click(function(e){e.preventDefault(),x.attr("src",x.attr("src"))}),j.find(".button-new").click(function(e){e.preventDefault(),window.open(x.attr("src"))}),$(".desktop").mousedown(function(){window.location.hash="#",A.removeClass("focus")}),A.mousedown(function(e){e.stopPropagation(),C($(this))});var u={users:{jason:{desktop:{}}}},f=[];$("*").each(function(){var e=this.id;e&&f.push(e)});for(var h=0,v=f;h<v.length;h++){var p=v[h],m=u.users.jason.desktop,b=p.split("-"),y=!0,w=!1,g=void 0;try{for(var k,T=b[Symbol.iterator]();!(y=(k=T.next()).done);y=!0){var I=k.value;m[I]||(m[I]={}),m=m[I]}}catch(e){w=!0,g=e}finally{try{y||null==T.return||T.return()}finally{if(w)throw g}}}var S=null;$.get("/script.js",function(e){return S=e},"text");var z=null,O=[],W=0,P=null,D=null,H=null,E=function(){P=!(z=["users","jason","desktop"]),V(),L(!0)};window.setTimeout(E,0);function N(e){var r=e?e.split("/"):[],t=_toConsumableArray(z);""===r[0]?(t=[],r.shift()):"~"===r[0]&&(t=["users","jason"],r.shift());var n=!0,a=!1,i=void 0;try{for(var o,s=r[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value;switch(c){case"":case".":break;case"..":t.pop();break;default:t.push(c)}}}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return t}function X(e){var r=u,t=!0,n=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){r=r[i.value]}}catch(e){n=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw a}}return r}function Y(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];Array.isArray(e)||(e=[e]);var n=_.find(".line-container");e.forEach(function(e){var r=$('<div class="line">');t?r.html(e&&e.replace(/([.,?!"';]*\w*[.,?!"';]*\s*)/g,"<span>$1</span>").replace(/\{(.+)\}/g,'<div class="underline">$1</div>&nbsp;&nbsp;').replace(/\*(.+)\*/g,'<div class="highlight">$1</div>')):r.html(e),n.append(r)})}function M(e){var r=_.find(".cursor");if(G(r),void 0!==e)for(var t=0,n=Array.from(e);t<n.length;t++){var a=n[t];"\n"===a?(L(!1,!1),r=_.find(".cursor")):r.before('<div class="letter">'.concat(a,"</div>"))}}function J(e,r){return 0<Object.keys(e[r]).length}function R(e){var r=e.keyCode;switch(r){case 8:case 9:case 13:case 27:case 37:case 38:case 39:case 40:e.preventDefault()}if(!D||27===r){var t=_.find(".cursor"),n=t.prev(".letter"),a=t.next(".letter"),i=t.parents(".line");switch(r){case 8:n.length&&(n.remove(),G(t));break;case 9:if(!a.length){var o=i.children(".letter").text().split(/\s+/).pop(),s=o.lastIndexOf("/"),c=o.substring(0,s+1),l=o.substring(s+1),d=N(c),u=X(d);if(u){var f=Object.keys(u).filter(function(e){return e.startsWith(l)});if(1===f.length){var h=f[0].substring(l.length);M(h)}else if(1<f.length){if(P){t.detach(),i.before(i.clone());var v=!0,p=!1,m=void 0;try{for(var b,y=f[Symbol.iterator]();!(v=(b=y.next()).done);v=!0){var w=b.value;i.before('<div class="line"><div class="'.concat(J(u,w)?"dir":"file",'">').concat(w,"</div></div>"))}}catch(e){p=!0,m=e}finally{try{v||null==y.return||y.return()}finally{if(p)throw m}}t.appendTo(i)}P=!0}}}break;case 13:var g=i.children(".letter").text();O.push(g),W=O.length,function(e){var r=_toArray(e.split(/\s+/)),n=r[0],t=r.slice(1),a=t.filter(function(e){return!e.startsWith("-")}),i=t.find(function(e){return e.startsWith("-")}),o=i?i.substring(1).split(""):[];switch(n){case"":break;case"help":Y([" *help*            show all the possible commands"," *whoami* [-j]     display information about Jason"," *cd* {dir}        change the working directory"," *ls* {dir}        list directory contents"," *pwd*             return the working directory"," *rm* [-fr] {dir}  remove directory entries"," *open* {files}    open the files"," *clear*           clear the terminal screen"," *exit*            close the terminal window"," *hackertyper*     ?????"],!0);break;case"whoami":o.includes("j")?window.open("https://www.instagram.com/jspark98/"):Y(["*Jinseo Park* (Jason)","A CS undergrad at Georgia Tech and a Software (and DevOps) Engineer at Prendssoin. Currently on an exchange program at National University of Singapore. Travelling on a regular basis is a necessity for him.",'Type "*whoami -j*" to show some snapshots of his journey.'],!0);break;case"cd":var s=a.shift(),c=N(s),l=X(c);if(void 0===l){Y("-bash: ".concat(n,": ").concat(s,": No such file or directory"));break}if(0===Object.keys(l).length){Y("-bash: ".concat(n,": ").concat(s,": Not a directory"));break}z=_toConsumableArray(c);break;case"ls":var d=a.shift(),u=N(d),f=X(u);if(void 0===f){Y("-bash: ".concat(n,": ").concat(d,": No such file or directory"));break}if(0===Object.keys(f).length){Y('<div class="file">'.concat(u.pop(),"</div>"));break}Y(Object.keys(f).map(function(e){return'<div class="'.concat(J(f,e)?"dir":"file",'">').concat(e,"</div>")}));break;case"pwd":Y("/"+z.join("/"));break;case"rm":var h=a.shift(),v=N(h),p=X(v);if(void 0===p){Y("-bash: ".concat(n,": ").concat(h,": No such file or directory"));break}if(Object.keys(p).length&&!o.includes("r")){Y("-bash: ".concat(n,": ").concat(h,": Is a directory"));break}var m=function(e){return"#"+e.slice(3).join("-")}(v);if("#"===m){if(!o.includes("f")){Y("-bash: ".concat(n,": ").concat(h,": Permission denied (try again with -f)"));break}$(".desktop").remove()}else $("a[href='".concat(m,"']")).remove(),$("[id='".concat(m.substring(1),"']")).remove(),$("a[href^='".concat(m,"-']")).remove(),$("[id^='".concat(m.substring(1),"-']")).remove();var b=v.pop();delete X(v)[b];break;case"open":var y=0,w=!0,g=!1,k=void 0;try{for(var C,A=function(){var e=C.value,r=N(e);if(void 0===X(r))return Y("The file /".concat(r.join("/")," does not exist.")),"continue";"users"===r[0]&&"jason"===r[1]&&"desktop"===r[2]&&r.splice(0,3);var t="#"+r.join("-");if("#"==t||!$(t).length)return Y("-bash: ".concat(n,": ").concat(e,": Permission denied")),"continue";window.setTimeout(function(){window.location.hash=t},y+=200)},x=a[Symbol.iterator]();!(w=(C=x.next()).done);w=!0)A()}catch(e){g=!0,k=e}finally{try{w||null==x.return||x.return()}finally{if(g)throw k}}break;case"clear":return L(!0);case"exit":return _slicedToArray(_.find(".button-close"),1)[0].click();case"hackertyper":if(S)return L(D=!0,!1);Y("Error occurred while loading source code.");break;default:Y("-bash: ".concat(n,": command not found"))}L(),_slicedToArray(_.find(".cursor"),1)[0].scrollIntoView()}(g);break;case 27:V(),L();break;case 37:n.length&&(n.addClass("cursor"),t.removeClass("cursor"));break;case 38:if(0<W){var k=O[--W];t.detach(),i.find(".letter").remove(),i.append(t),M(k)}break;case 39:a.length&&(a.addClass("cursor"),t.removeClass("cursor"));break;case 40:if(W<O.length){var C=O[++W];t.detach(),i.find(".letter").remove(),i.append(t),M(C)}}9!==r&&(P=!1),_slicedToArray(t,1)[0].scrollIntoView()}}var V=function(){D=!1,H=0},L=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],t=_.find(".line-container");e&&t.empty();var n=$('<div class="line">');if(r){var a=_toConsumableArray(z);"users"===a[0]&&"jason"===a[1]&&a.splice(0,2,"~");var i=a.join("/")||"/";n.append("jason@world:".concat(i,"$ "))}return _.find(".cursor").removeClass("cursor"),n.append('<div class="letter cursor">'),t.append(n),n},G=function(e){e.prev().after(e)};$(document).keydown(function(e){o.hasClass("focus")?function(e){var r=o.find(".panel.open .directory.active").last();switch(e.keyCode){case 38:var t=_slicedToArray(r.prev(":not(.directory-parent)"),1)[0];t&&t.click();break;case 40:var n=_slicedToArray(r.next(),1)[0];n&&n.click();break;case 37:var a=_slicedToArray(r.parents(".panel-container").prev().find(".panel.open .directory.active"),1)[0];a&&a.click();break;case 39:var i=_slicedToArray(r.parents(".panel-container").next().find(".panel.open .directory:not(.directory-parent)").first(),1)[0];i&&i.click()}}(e):_.hasClass("focus")&&R(e)}),$(document).keypress(function(e){_.hasClass("focus")&&function(e){var r=e.charCode||e.keyCode;if(3===r)V(),L();else if(32<=r)if(D){var t=1+(8*Math.random()|0),n=S.substr(H,t);n||(V(),L()),H+=t,M(n)}else{var a=String.fromCharCode(r);M(a)}_slicedToArray(_.find(".cursor"),1)[0].scrollIntoView()}(e)}),A.each(function(e){var r=20+20*e,t=20+20*e;$(this).css({top:r,left:t})});var U=null,q={},B={};t.mousedown(function(e){d||1===e.which&&((U=$(this).parents(".window")).hasClass("maximize")||(U.addClass("moving"),q=U.position(),B.x=e.clientX,B.y=e.clientY,$(document).mousemove(function(e){var r=e.clientX-B.x,t=e.clientY-B.y;q.left+=r,q.top+=t,B.x=e.clientX,B.y=e.clientY,U.css(q)}),$(document).mouseup(function(){U.removeClass("moving"),$(document).off("mousemove"),$(document).off("mouseup")})))}),i.mousedown(function(e){e.stopPropagation()}),[[".border-left","left","width","x","clientX"],[".border-top","top","height","y","clientY"],[".border-right",null,"width","x","clientX"],[".border-bottom",null,"height","y","clientY"]].map(function(e){var r=_slicedToArray(e,5),t=r[0],n=r[1],a=r[2],i=r[3],o=r[4],s=null,c={},l={};A.find(t).mousedown(function(e){if(!d&&1===e.which&&!(s=$(this).parents(".window")).hasClass("maximize")){if(s.addClass("resizing"),n){var r=s.position();c[n]=r[n]}c[a]=s[a](),l[i]=e[o],$(document).mousemove(function(e){var r=e[o]-l[i];n?(c[n]+=r,c[a]-=r):c[a]+=r,l[i]=e[o],c.width<280||c.height<60||s.css(c)}),$(document).mouseup(function(){s.removeClass("resizing"),$(document).off("mousemove"),$(document).off("mouseup")})}})});function F(){function e(e){return e<10?"0".concat(e):e}var r=new Date,t=r.getHours(),n=r.getMinutes(),a=e(t%12||12),i=e(n),o=["AM","PM"][t/12|0],s="".concat(a,":").concat(i," ").concat(o);c.find(".name").text(s)}window.setInterval(F,1e3),F(),i.each(function(){$(this).attr("href").startsWith("#")||($(this).attr("target","_blank"),$(this).attr("rel","noopener"),$(this).addClass("link-external"))});function K(){var e=document.body.clientWidth;d=!(l=512<e),a.toggleClass("desktop",l),a.toggleClass("mobile",d)}K(),window.onresize=K});